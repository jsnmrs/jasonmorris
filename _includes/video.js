!function(){"use strict";if("undefined"==typeof MediaUtils)return void(window.Logger&&window.Logger.error?window.Logger.error("MediaUtils not loaded - video player cannot initialize"):console.error("MediaUtils not loaded - video player cannot initialize"));let e=null,i=!1;function o(e){try{e.preventDefault();const i=e.currentTarget,o=i.nextElementSibling;if(!o)return;const{type:t,id:d,width:r,height:n,title:a}=o.dataset;if(!t||!d)return void MediaUtils.logError("Missing required video data attributes");if(MediaUtils.createVideoIframe){const e=MediaUtils.createVideoIframe({type:t,id:d,width:r,height:n,title:a});e?(o.classList.add("video"),o.appendChild(e),i.remove(),e.focus()):MediaUtils.logError("Failed to create video iframe")}else MediaUtils.logError("createVideoIframe function not available")}catch(e){MediaUtils.logError("Error handling video click event:",e)}}function t(){if(i)window.Logger&&window.Logger.warn&&window.Logger.warn("Video player already initialized");else try{e=new AbortController;const t=document.querySelectorAll(".facade__link");t.forEach(i=>{i.addEventListener("click",o,{signal:e.signal,passive:!1})}),i=!0,window.Logger&&window.Logger.debug&&window.Logger.debug("Video player initialized with",t.length,"facade links")}catch(e){MediaUtils.logError("Failed to initialize video player:",e)}}function d(){e&&(e.abort(),e=null),i=!1,window.Logger&&window.Logger.debug&&window.Logger.debug("Video player cleanup completed")}window.MediaUtils&&(window.MediaUtils.videoCleanup=d),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t(),window.addEventListener("beforeunload",d)}();