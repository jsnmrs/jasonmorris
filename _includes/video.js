!function(){"use strict";if("undefined"==typeof MediaUtils)return void(window.Logger&&window.Logger.error?window.Logger.error("MediaUtils not loaded - video player cannot initialize"):console.error("MediaUtils not loaded - video player cannot initialize"));let e=null,i=!1;function t(e){try{const i=e.target.closest(".facade__link");if(!i)return;e.preventDefault();const t=i.nextElementSibling;if(!t)return;const{type:o,id:n,width:d,height:r,title:a}=t.dataset;if(!o||!n)return void MediaUtils.logError("Missing required video data attributes");if(MediaUtils.createVideoIframe){const e=MediaUtils.createVideoIframe({type:o,id:n,width:d,height:r,title:a});e?(t.classList.add("video"),t.appendChild(e),i.remove()):MediaUtils.logError("Failed to create video iframe")}else MediaUtils.logError("createVideoIframe function not available")}catch(e){MediaUtils.logError("Error handling video click event:",e)}}function o(){if(i)window.Logger&&window.Logger.warn&&window.Logger.warn("Video player already initialized");else try{e=new AbortController;const o=document.querySelectorAll("[data-type]");o.length>0?o.forEach((i=>{const o=i.parentElement;o&&o.addEventListener("click",t,{signal:e.signal,passive:!1})})):document.addEventListener("click",t,{signal:e.signal,passive:!1}),i=!0,window.Logger&&window.Logger.debug&&window.Logger.debug("Video player initialized with",o.length,"containers")}catch(e){MediaUtils.logError("Failed to initialize video player:",e)}}function n(){e&&(e.abort(),e=null),i=!1,window.Logger&&window.Logger.debug&&window.Logger.debug("Video player cleanup completed")}window.MediaUtils&&(window.MediaUtils.videoCleanup=n),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",o):o(),window.addEventListener("beforeunload",n)}();