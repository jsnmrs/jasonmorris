!function(){"use strict";let e,o,i,t,r=!1,l=null,n=!1;const a={player:"#player",playButton:"#play-pause-btn",volumeControl:"#volume-control",volumeDisplay:"#volume-display"};if("undefined"!=typeof MediaUtils){if(MediaUtils.youtube&&MediaUtils.youtube.loadAPI)try{MediaUtils.youtube.loadAPI()}catch(e){MediaUtils.logError("Failed to load YouTube API:",e)}else MediaUtils.logError("YouTube utilities not available");window.onYouTubeIframeAPIReady=function(){try{const o=document.querySelector(a.player);if(!o)return;const i=o.getAttribute("data-video-id");if(!i)return void MediaUtils.logError("Missing data-video-id attribute on player element");e=MediaUtils.youtube.createPlayer(a.player.substring(1),i,d)}catch(e){MediaUtils.logError("Error initializing YouTube player:",e)}},window.MediaUtils&&(window.MediaUtils.audioCleanup=g),window.addEventListener("beforeunload",g)}else window.Logger&&window.Logger.error?window.Logger.error("MediaUtils not loaded - audio player cannot initialize"):console.error("MediaUtils not loaded - audio player cannot initialize");function d(){try{if(n)return void(window.Logger&&window.Logger.warn&&window.Logger.warn("Audio controls already initialized"));if(o=document.querySelector(a.playButton),i=document.querySelector(a.volumeControl),t=document.querySelector(a.volumeDisplay),!o||!i)return void MediaUtils.logError("Missing required audio control elements");l=new AbortController,o.addEventListener("click",u,{signal:l.signal}),i.addEventListener("input",s,{signal:l.signal}),n=!0,s(),window.Logger&&window.Logger.debug&&window.Logger.debug("Audio controls initialized")}catch(e){MediaUtils.logError("Error initializing audio controls:",e)}}function u(){try{if(!e||!o)return;r?(e.pauseVideo(),o.textContent="Play"):(e.playVideo(),o.textContent="Pause"),r=!r}catch(e){MediaUtils.logError("Error toggling play/pause state:",e)}}function s(){try{if(!e||!i||!t)return;let o=parseInt(i.value,10);isNaN(o)&&(MediaUtils.logError("Invalid volume value:",i.value),o=50),o=Math.max(0,Math.min(100,o)),o!==parseInt(i.value,10)&&(i.value=o),e.setVolume(o),t.textContent=o+"%"}catch(e){MediaUtils.logError("Error updating volume:",e)}}function g(){l&&(l.abort(),l=null),n=!1,e=null,r=!1,o=null,i=null,t=null,window.Logger&&window.Logger.debug&&window.Logger.debug("Audio controls cleanup completed")}}();