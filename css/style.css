:root {
  --black: hsl(0deg 0% 0%);
  --background: hsl(0deg 0% 97.6%);
  --background-border-accent: hsl(0deg 0% 86.7%);
  --background-accent: hsl(0deg 0% 90.2%);
  --text: hsl(0deg 0% 13.3%);
  --text-accent: hsl(0deg 0% 26.7%);
  --link: hsl(218.2deg 82.9% 39%);
  --link-visited: var(--link);
  --link-hover: hsl(218deg 84.9% 23.3%);
  --link-focus: hsl(52deg 100% 50%);
  --font-family: "Atkinson Hyperlegible", "Helvetica", "Arial", sans-serif;
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    /* stylelint-disable declaration-no-important */
    background-attachment: initial !important;
    transition-delay: 0s !important;
    transition-duration: 0s !important;
    animation-duration: 1ms !important;
    animation-delay: -1ms !important;
    animation-iteration-count: 1 !important;
    scroll-behavior: auto !important;
    /* stylelint-enable declaration-no-important */
  }
}

html {
  scroll-padding: 5rem;
  text-size-adjust: none; /* stylelint-disable-line */
  font-size: 110%;
}

@media screen and (width >= 48em) {
  html {
    font-size: 130%;
  }
}

@media screen and (width >= 64em) {
  html {
    font-size: 150%;
  }
}

img,
picture,
svg,
video,
canvas {
  display: block;
}

/* https://www.zachleat.com/web/fluid-images/ */
img {
  max-inline-size: 100%;
}

img[width] {
  inline-size: auto;
}

img[width][height] {
  inline-size: 100%;
  block-size: auto;
}

img[src$=".svg"] {
  inline-size: 100%;
  max-inline-size: none;
  block-size: auto;
}

.video {
  position: relative;
  block-size: 0;
  padding-block-start: 1.5rem;
  padding-block-end: 51.9%; /* 16:9 */
}

.video iframe {
  position: absolute;
  inset-block-start: 0;
  inset-inline-start: 0;
  inline-size: 100%;
  block-size: 100%;
  max-block-size: 95vb;
}

.skip {
  position: absolute;
  inset-inline-start: -999rem;
}

.skip:active,
.skip:focus {
  position: fixed;
  inset-inline-start: 0;
  z-index: 100;
  display: block;
  padding-block: 0.5rem;
  padding-inline: 0.75rem;
}

@font-face {
  font-weight: 400;
  font-family: "Atkinson Hyperlegible";
  font-style: normal;
  font-stretch: normal;
  src: local("Atkinson Hyperlegible"), local("Atkinson-Hyperlegible"),
    url("/fonts/atkinson-hyperlegible.woff2") format("woff2");
  font-display: optional;
}

body {
  color: var(--text);
  font-weight: 400;
  font-family: var(--font-family);
  margin-block: 0;
  margin-inline: 0;
  background-color: var(--background);
}

:any-link {
  text-decoration-skip-ink: auto;
}

:any-link:link {
  color: var(--link);
}

:any-link:visited {
  color: var(--link-visited);
}

:any-link:hover,
:any-link:focus,
:any-link:active {
  color: var(--link-hover);
}

:any-link:hover {
  text-decoration-thickness: 0.12rem;
}

:any-link:focus-visible {
  color: var(--text);
  text-decoration: none;
  background-color: var(--link-focus);
  outline: 0.1875rem solid transparent;
  outline-offset: 0;
  box-shadow: 0 -0.125rem var(--link-focus), 0 0.25rem var(--text);
}

:any-link:focus:not(:focus-visible) {
  outline: none;
}

h1,
h2,
h3,
h4 {
  color: var(--text);
  font-weight: 400;
}

h1 {
  margin-block-start: 0.5rem;
  margin-block-end: 0.25rem;
  margin-inline: 0;
  font-size: 2.25rem;
  line-height: 1.2;
}

.home h1 {
  font-size: 3.5rem;
  text-align: center;
}

h2 {
  margin-block-start: 0.4rem;
  margin-inline: 0;
  margin-block-end: 0.2rem;
  font-size: 1.8rem;
  line-height: 1.2;
}

h3 {
  margin-block-start: 0;
  margin-inline: 0;
  margin-block-end: 1rem;
  font-size: 1.5rem;
  line-height: 1;
}

p {
  margin-block-start: 0.5rem;
  margin-inline: 0;
  margin-block-end: 1rem;
  font-size: 1rem;
  line-height: 1.5;
}

ul,
ol {
  margin-block-start: 0;
  margin-block-end: 1.5rem;
  margin-inline-start: 2rem;
  margin-inline-end: 0;
  padding-block: 0;
  padding-inline: 0;
}

ul {
  list-style-type: circle;
}

li {
  line-height: 1.5;
}

em {
  font-style: italic;
}

strong {
  font-weight: 700;
}

pre,
code {
  color: var(--text);
  font-size: 1rem;
  font-family: var(--font-family);
  background-color: var(--background-accent);
  border-block-width: 0.1rem;
  border-block-style: solid;
  border-block-color: var(--background-accent);
  border-inline-width: 0.1rem;
  border-inline-style: solid;
  border-inline-color: var(--background-accent);
  border-radius: 0.25rem;
  line-height: 1.2;
}

code {
  display: inline-block;
  padding-block: 0;
  padding-inline: 0.15rem;
}

pre {
  padding-block: 0.5rem;
  padding-inline: 0.75rem;
  overflow-inline: auto;
}

pre > code {
  padding-block: 0;
  padding-inline: 0;
  background-color: transparent;
  border-block-width: 0;
  border-inline-width: 0;
}

.circle {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  inline-size: 3rem;
  block-size: 3rem;
  margin-block-start: 1rem;
  margin-inline: 0;
  margin-block-end: 0.5rem;
  padding-block-start: 0.15rem;
  font-size: 1.5rem;
  line-height: 1;
  background-color: var(--text-accent);
  border-radius: 50%;
  transition: background-color 0.5s ease;
}

.circle:link,
.circle:visited {
  color: var(--background);
  text-decoration: none;
}

.circle:hover,
.circle:focus {
  color: var(--link);
  background-color: var(--background);
  background-size: 110%;
  border-block-width: 0.1875rem;
  border-block-style: solid;
  border-block-color: var(--link);
  border-inline-width: 0.1875rem;
  border-inline-style: solid;
  border-inline-color: var(--link);
  transition: background-color 0.5s ease;
}

.circle:focus {
  box-shadow: none;
}

.sr:not(:focus, :active) {
  position: absolute;
  transform: scale(0);
}

.back {
  margin-block-end: 1rem;
  padding-block-start: 0;
}

.date {
  color: var(--text-accent);
  line-height: 1.5;
}

figcaption,
.caption {
  margin-block-start: 0.5rem;
  margin-inline: 0;
  margin-block-end: 1.5rem;
  color: var(--text-accent);
}

figcaption {
  text-align: center;
}

figcaption:empty {
  margin-block: 0;
  margin-inline: 0;
}

.bump {
  margin-block-start: 2rem;
}

.doc {
  margin-block-start: 3rem;
  margin-block-end: 3rem;
}

.doc p,
.doc li {
  max-block-size: var(--small);
}

.doc h1 {
  font-size: 3.3rem;
}

.doc h1 + p {
  margin-block-start: 0.25rem;
}

.doc h2 {
  margin-block-start: 2.5rem;
  margin-inline: 0;
  margin-block-end: 0.2rem;
}

.doc h3 {
  margin-block-start: 1.5rem;
  margin-inline: 0;
  margin-block-end: 0;
  font-size: 1.4rem;
  line-height: 1.2;
}

.doc h3 + h4 {
  margin-block-start: 0.25rem;
  margin-inline: 0;
  margin-block-end: 0;
  font-size: 1rem;
  line-height: 1.5;
}

.doc ul {
  margin-block-start: 0.25rem;
  margin-inline-end: 0;
  margin-block-end: 2rem;
  margin-inline-start: 1.5rem;
}

.doc li {
  margin-block-end: 0.25rem;
}

.doc .footnote {
  margin-block-start: 3rem;
  margin-block-end: -1.5rem;
}

.chunk {
  margin-block-end: 2rem;
  margin-inline-start: 0;
  list-style-type: none;
}

.chunk li {
  border-block-end: 0.1rem solid var(--background-accent);
}

.chunk li :last-child {
  border-block-end: 0;
}

.chunk a {
  display: block;
  padding-block-start: 0.45rem;
  padding-inline: 0.5rem;
  padding-block-end: 0.35rem;
}

hr {
  display: block;
  box-sizing: content-box;
  block-size: 0.5rem;
  margin-block: 3rem;
  margin-inline: 2rem;
  padding-block: 0;
  padding-inline: 0;
  overflow: visible;
  border-block-width: 0;
  border-inline-width: 0;
  border-block-end: 0.5rem solid var(--background-accent);
}

.block-photo {
  display: block;
  margin-block: 0;
  margin-inline: auto;
}

main,
nav {
  display: grid;
  grid-column-gap: 1rem;
  grid-template-columns:
    [full-start] minmax(0, 1fr)
    [main-start] minmax(0, 40rem) [main-end]
    minmax(0, 1fr) [full-end];
}

.home nav {
  grid-column-gap: 0;
}

main > *,
nav > * {
  grid-column: main;
}

main > figure {
  grid-column: full;
  margin-block-start: 1.5rem;
  margin-inline: auto;
  margin-block-end: 0.5rem;
}

section {
  display: grid;
  grid-column-gap: 1rem;
  grid-template-columns: 2fr 1fr;
  margin-block-end: 2rem;
}

article {
  grid-column: 1 / span 2;
}

@media screen and (width >= 48em) {
  article {
    grid-column: 1;
  }
}

.photo {
  grid-column: 1 / span 2;
}

@media screen and (width >= 48em) {
  .photo {
    grid-column: 2;
    margin-block-start: 3.5rem;
  }
}

.photo figure {
  margin-block: 0;
  margin-inline: 0;
}

.photo figcaption {
  text-align: start;
}

.facade {
  position: relative;
  margin-block-end: 2rem;
}

.facade__overlay {
  position: absolute;
  inset: 0;
  inline-size: 100%;
  background-color: rgb(0 0 0 / 50%);
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='100' cy='100' fill='none' r='90' stroke='%23fff' stroke-width='15'/%3E%3Cpath d='m70 55v90l75-45z' fill='%23fff'/%3E%3C/svg%3E%0A");
  background-repeat: no-repeat;
  background-position: center center;
  background-size: 5rem;
  transition: 0.3s background-size;
  content: " ";
}

.facade__link {
  position: relative;
  display: block;
}

.facade__link:hover .facade__overlay,
.facade__link:focus .facade__overlay {
  background-size: 6rem;
  transition: 0.3s background-size;
}

.facade__link img {
  display: block;
}

@media print {
  * {
    color: var(--black);
    background: transparent;
  }

  a {
    text-decoration: underline;
  }

  a:visited {
    text-decoration: underline;
  }

  a[href]::after {
    font-size: 0.75rem;
    font-style: normal;
    content: " [" attr(href) "]";
  }

  a[href^="#"]::after {
    content: "";
  }

  a[href="/"]::after {
    content: " [aka " attr(title) "]";
  }

  img {
    max-inline-size: 100%;
    page-break-inside: avoid;
  }

  p,
  h2,
  h3 {
    orphans: 3;
    widows: 3;
  }

  h2,
  h3 {
    page-break-after: avoid;
  }

  h1 {
    font-size: 2.25rem;
  }

  .back {
    display: none;
  }
}
